{
  if (view == null)   view=LayoutInflater.from(dialog.getContext()).inflate(layout,parent,false);
  boolean disabled=DialogUtils.isIn(index,dialog.mBuilder.disabledIndices);
  TextView tv=(TextView)view.findViewById(R.id.title);
switch (dialog.listType) {
case SINGLE:
{
      @SuppressLint("CutPasteId") RadioButton radio=(RadioButton)view.findViewById(R.id.control);
      boolean selected=dialog.mBuilder.selectedIndex == index;
      MDTintHelper.setTint(radio,dialog.mBuilder.widgetColor);
      radio.setChecked(selected);
      radio.setEnabled(!disabled);
      break;
    }
case MULTI:
{
    @SuppressLint("CutPasteId") CheckBox checkbox=(CheckBox)view.findViewById(R.id.control);
    boolean selected=dialog.selectedIndicesList.contains(index);
    MDTintHelper.setTint(checkbox,dialog.mBuilder.widgetColor);
    checkbox.setChecked(selected);
    checkbox.setEnabled(!disabled);
    break;
  }
}
tv.setText(dialog.mBuilder.items[index]);
tv.setTextColor(dialog.mBuilder.itemColor);
dialog.setTypeface(tv,dialog.mBuilder.regularFont);
view.setTag(index + ":" + dialog.mBuilder.items[index]);
setupGravity((ViewGroup)view);
if (dialog.mBuilder.itemIds != null) {
if (index < dialog.mBuilder.itemIds.length) view.setId(dialog.mBuilder.itemIds[index]);
 else view.setId(-1);
}
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
ViewGroup group=(ViewGroup)view;
if (group.getChildCount() == 2) {
  if (group.getChildAt(0) instanceof CompoundButton)   group.getChildAt(0).setBackground(null);
 else   if (group.getChildAt(1) instanceof CompoundButton)   group.getChildAt(1).setBackground(null);
}
}
return view;
}
