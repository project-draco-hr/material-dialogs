{
  RelativeLayout.LayoutParams params=(RelativeLayout.LayoutParams)child.getLayoutParams();
  if (itemGravity == GravityEnum.CENTER) {
    params.addRule(RelativeLayout.CENTER_HORIZONTAL);
  }
 else   if (index == 0) {
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1) {
      params.addRule(itemGravity == GravityEnum.START ? RelativeLayout.ALIGN_PARENT_START : RelativeLayout.ALIGN_PARENT_END);
    }
 else {
      params.addRule(itemGravity == GravityEnum.START ? RelativeLayout.ALIGN_PARENT_LEFT : RelativeLayout.ALIGN_PARENT_RIGHT);
    }
  }
  if (index == 0 && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
    child.setBackground(null);
  }
  if (index == 1) {
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1) {
      params.addRule(itemGravity == GravityEnum.START || itemGravity == GravityEnum.CENTER ? RelativeLayout.END_OF : RelativeLayout.START_OF,R.id.control);
    }
 else {
      params.addRule(itemGravity == GravityEnum.START || itemGravity == GravityEnum.CENTER ? RelativeLayout.RIGHT_OF : RelativeLayout.LEFT_OF,R.id.control);
    }
  }
  final int frameMargin=(int)getContext().getResources().getDimension(R.dimen.md_dialog_frame_margin);
  final int controlMargin=(int)getContext().getResources().getDimension(R.dimen.md_listitem_control_margin);
  if (index == 0) {
    if (itemGravity == GravityEnum.START || itemGravity == GravityEnum.CENTER) {
      params.leftMargin=!isRTL() ? frameMargin : controlMargin;
      params.rightMargin=isRTL() ? frameMargin : controlMargin;
    }
 else {
      params.leftMargin=!isRTL() ? controlMargin : frameMargin;
      params.rightMargin=isRTL() ? controlMargin : frameMargin;
    }
  }
 else {
    if (itemGravity == GravityEnum.START || itemGravity == GravityEnum.CENTER) {
      params.leftMargin=!isRTL() ? 0 : frameMargin;
      params.rightMargin=isRTL() ? frameMargin : 0;
    }
 else {
      params.leftMargin=!isRTL() ? frameMargin : 0;
      params.rightMargin=isRTL() ? 0 : frameMargin;
    }
  }
}
