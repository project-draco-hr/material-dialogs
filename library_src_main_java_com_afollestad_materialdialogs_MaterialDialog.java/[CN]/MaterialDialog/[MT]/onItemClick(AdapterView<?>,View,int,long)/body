{
  if (listType != null) {
    if (listType == ListType.MULTI) {
      boolean isChecked=!((CheckBox)view.findViewById(R.id.control)).isChecked();
      boolean previouslySelected=selectedIndicesList.contains(position);
      if (isChecked) {
        if (!previouslySelected) {
          selectedIndicesList.add(position);
        }
      }
 else       if (previouslySelected) {
        selectedIndicesList.remove(Integer.valueOf(position));
      }
    }
 else     if (listType == ListType.SINGLE) {
      if (mBuilder.selectedIndex != position) {
        mBuilder.selectedIndex=position;
        ((MaterialDialogAdapter)mBuilder.adapter).notifyDataSetChanged();
      }
    }
    onClick(view);
  }
 else {
    if (mBuilder.listCallbackCustom != null) {
      CharSequence text=null;
      if (view instanceof TextView)       text=((TextView)view).getText();
      mBuilder.listCallbackCustom.onSelection(this,view,position,text);
    }
  }
}
