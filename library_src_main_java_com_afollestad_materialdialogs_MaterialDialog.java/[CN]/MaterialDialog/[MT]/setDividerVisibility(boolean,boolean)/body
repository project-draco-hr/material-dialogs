{
  topVisible=topVisible && titleFrame.getVisibility() == View.VISIBLE;
  bottomVisible=bottomVisible && hasActionButtons();
  if (mBuilder.dividerColor == 0)   mBuilder.dividerColor=DialogUtils.resolveColor(mBuilder.context,R.attr.md_divider_color);
  if (mBuilder.dividerColor == 0)   mBuilder.dividerColor=DialogUtils.resolveColor(getContext(),R.attr.md_divider);
  View titleBarDivider=view.findViewById(R.id.titleBarDivider);
  if (topVisible) {
    titleBarDivider.setVisibility(View.VISIBLE);
    titleBarDivider.setBackgroundColor(mBuilder.dividerColor);
  }
 else {
    titleBarDivider.setVisibility(View.INVISIBLE);
  }
  View buttonBarDivider=view.findViewById(R.id.buttonBarDivider);
  if (bottomVisible) {
    buttonBarDivider.setVisibility(View.VISIBLE);
    buttonBarDivider.setBackgroundColor(mBuilder.dividerColor);
    setVerticalMargins(view.findViewById(R.id.buttonStackedFrame),-1,0);
    setVerticalMargins(view.findViewById(R.id.buttonDefaultFrame),-1,0);
  }
 else {
    buttonBarDivider.setVisibility(View.INVISIBLE);
    Resources r=getContext().getResources();
    final int bottomMargin=r.getDimensionPixelSize(R.dimen.md_button_frame_vertical_padding);
    setVerticalMargins(view.findViewById(R.id.buttonStackedFrame),-1,bottomMargin);
    setVerticalMargins(view.findViewById(R.id.buttonDefaultFrame),-1,bottomMargin);
  }
}
