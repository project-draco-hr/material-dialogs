{
  boolean foundLayout=false;
  if (attrs != null) {
    for (int i=0; i < attrs.getAttributeCount(); i++) {
      final String namespace=((XmlResourceParser)attrs).getAttributeNamespace(0);
      if (namespace.equals("http://schemas.android.com/apk/res/android") && attrs.getAttributeName(i).equals("layout")) {
        foundLayout=true;
        break;
      }
    }
  }
  if (!foundLayout)   preference.setLayoutResource(R.layout.md_preference_custom);
}
