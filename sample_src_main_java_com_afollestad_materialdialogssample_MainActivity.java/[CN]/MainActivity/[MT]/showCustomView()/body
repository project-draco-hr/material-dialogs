{
  MaterialDialog dialog=new MaterialDialog.Builder(this).title(R.string.googleWifi).positiveText(R.string.accept).customView(R.layout.dialog_customview).positiveText(R.string.connect).negativeText(android.R.string.cancel).callback(new MaterialDialog.Callback(){
    @Override public void onPositive(    MaterialDialog dialog){
      Toast.makeText(getApplicationContext(),"Password: " + passwordInput.getText().toString(),Toast.LENGTH_SHORT).show();
    }
    @Override public void onNegative(    MaterialDialog dialog){
    }
  }
).build();
  positiveAction=dialog.getActionButton(DialogAction.POSITIVE);
  passwordInput=(EditText)dialog.getCustomView().findViewById(R.id.password);
  passwordInput.addTextChangedListener(new TextWatcher(){
    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){
    }
    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){
      positiveAction.setEnabled(s.toString().trim().length() > 0);
    }
    @Override public void afterTextChanged(    Editable s){
    }
  }
);
  ((CheckBox)dialog.getCustomView().findViewById(R.id.showPassword)).setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener(){
    @Override public void onCheckedChanged(    CompoundButton buttonView,    boolean isChecked){
      passwordInput.setInputType(!isChecked ? InputType.TYPE_TEXT_VARIATION_PASSWORD : InputType.TYPE_CLASS_TEXT);
      passwordInput.setTransformationMethod(!isChecked ? PasswordTransformationMethod.getInstance() : null);
    }
  }
);
  dialog.show();
  positiveAction.setEnabled(false);
}
