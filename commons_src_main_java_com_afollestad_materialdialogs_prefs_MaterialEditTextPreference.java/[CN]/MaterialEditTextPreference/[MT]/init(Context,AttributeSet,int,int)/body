{
  final TypedArray a=context.obtainStyledAttributes(attrs,com.android.internal.R.styleable.Preference,defStyleAttr,defStyleRes);
  try {
    final int layoutResource=a.getResourceId(com.android.internal.R.styleable.Preference_layout,0);
    if (layoutResource == 0)     setLayoutResource(R.layout.md_preference_custom);
  }
  finally {
    a.recycle();
  }
  int fallback;
  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP)   fallback=DialogUtils.resolveColor(context,android.R.attr.colorAccent);
 else   fallback=0;
  fallback=DialogUtils.resolveColor(context,R.attr.colorAccent,fallback);
  mColor=DialogUtils.resolveColor(context,R.attr.md_widget_color,fallback);
  mEditText=new AppCompatEditText(context,attrs);
  mEditText.setId(android.R.id.edit);
  mEditText.setEnabled(true);
}
